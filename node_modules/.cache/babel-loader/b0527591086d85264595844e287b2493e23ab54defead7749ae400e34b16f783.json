{"ast":null,"code":"var _jsxFileName = \"/Users/leo/Desktop/gratitude-diary/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport html2pdf from \"html2pdf.js\";\n\n/* ===== Utilità data ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction todayISO() {\n  const d = new Date();\n  const off = d.getTimezoneOffset();\n  const d2 = new Date(d.getTime() - off * 60 * 1000);\n  return d2.toISOString().slice(0, 10); // YYYY-MM-DD\n}\nfunction formatIT(iso) {\n  const [y, m, d] = iso.split(\"-\");\n  const date = new Date(Number(y), Number(m) - 1, Number(d));\n  return date.toLocaleDateString(\"it-IT\", {\n    day: \"2-digit\",\n    month: \"short\",\n    year: \"numeric\"\n  });\n}\nconst STORAGE_KEY = \"gratitudeDiaryV1\";\nexport default function App() {\n  _s();\n  var _answers$qIndex;\n  /* ===== Stato principale ===== */\n  const [step, setStep] = useState(\"date\"); // 'date' | 'questions' | 'review' | 'history'\n  const [selectedDate, setSelectedDate] = useState(todayISO());\n  const questions = useMemo(() => [{\n    id: 1,\n    icon: \"❤️\",\n    text: \"Ripensando alla giornata di oggi, elenca le cose per cui essere grato.\",\n    placeholder: \"Scrivi qui le cose di cui sei grato...\"\n  }, {\n    id: 2,\n    icon: \"💡\",\n    text: \"Che cosa hai imparato oggi? Piccole o grandi lezioni vanno benissimo.\",\n    placeholder: \"Scrivi qui quello che hai imparato...\"\n  }, {\n    id: 3,\n    icon: \"⭐\",\n    text: \"Fai un elenco delle qualità o azioni di cui vai fiero di te stesso.\",\n    placeholder: \"Scrivi qui le tue qualità o azioni positive...\"\n  }, {\n    id: 4,\n    icon: \"🏅\",\n    text: \"Quali sono le cose di cui sei orgoglioso oggi?\",\n    placeholder: \"Scrivi qui i tuoi successi o traguardi...\"\n  }], []);\n  const [answers, setAnswers] = useState(Array(4).fill(\"\"));\n  const [qIndex, setQIndex] = useState(0);\n  const [savedToday, setSavedToday] = useState(false);\n\n  // storico: { [dateISO]: { answers: string[], savedAt:number } }\n  const [diary, setDiary] = useState({});\n\n  /* ===== Carica/salva archivio ===== */\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_KEY);\n      if (raw) setDiary(JSON.parse(raw));\n    } catch {}\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(diary));\n  }, [diary]);\n\n  // quando cambio data carico eventuali risposte salvate\n  useEffect(() => {\n    var _diary$selectedDate$a, _diary$selectedDate;\n    const existing = (_diary$selectedDate$a = (_diary$selectedDate = diary[selectedDate]) === null || _diary$selectedDate === void 0 ? void 0 : _diary$selectedDate.answers) !== null && _diary$selectedDate$a !== void 0 ? _diary$selectedDate$a : Array(4).fill(\"\");\n    setAnswers(existing);\n    setSavedToday(Boolean(diary[selectedDate]));\n  }, [selectedDate]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  /* ===== Navigazione domande ===== */\n  const canNext = ((_answers$qIndex = answers[qIndex]) !== null && _answers$qIndex !== void 0 ? _answers$qIndex : \"\").trim().length > 0;\n  const goNext = () => {\n    if (!canNext) return;\n    if (qIndex < questions.length - 1) setQIndex(i => i + 1);else setStep(\"review\");\n  };\n  const goPrev = () => {\n    if (qIndex > 0) setQIndex(i => i - 1);else setStep(\"date\");\n  };\n\n  // Swipe mobile: sinistra = avanti (se compilato), destra = indietro\n  const touchStartX = useRef(null);\n  const onTouchStart = e => touchStartX.current = e.touches[0].clientX;\n  const onTouchEnd = e => {\n    if (touchStartX.current == null) return;\n    const dx = e.changedTouches[0].clientX - touchStartX.current;\n    if (dx < -50 && canNext) goNext();\n    if (dx > 50) goPrev();\n    touchStartX.current = null;\n  };\n\n  /* ===== FIX tastiera mobile =====\n     ref dichiarato QUI (fuori da qualsiasi if) per rispettare le regole degli hook */\n  const textRef = useRef(null);\n\n  /* ===== Salvataggio del giorno ===== */\n  const registerToday = () => {\n    const clean = answers.map(a => a.trim());\n    const any = clean.some(a => a.length > 0);\n    if (!any) return;\n    setDiary(prev => ({\n      ...prev,\n      [selectedDate]: {\n        answers: clean,\n        savedAt: Date.now()\n      }\n    }));\n    setSavedToday(true);\n  };\n\n  /* ===== PDF (data grassetto, domande corsivo, risposte normali) ===== */\n  const exportPDF = () => {\n    const container = document.createElement(\"div\");\n    container.style.padding = \"18px\";\n    container.style.fontFamily = \"Inter, system-ui, -apple-system, sans-serif\";\n    container.style.color = \"#111827\";\n    container.style.lineHeight = \"1.5\";\n    const title = document.createElement(\"div\");\n    title.innerHTML = `<div style=\"font-weight:700;font-size:18px;margin-bottom:10px;\">\n      Diario – <span>${formatIT(selectedDate)}</span>\n    </div>`;\n    container.appendChild(title);\n    questions.forEach((q, i) => {\n      const block = document.createElement(\"div\");\n      block.innerHTML = `\n        <div style=\"font-style:italic;margin:8px 0 2px 0;\">\n          ${q.text}\n        </div>\n        <div style=\"white-space:pre-wrap;margin:0 0 8px 0;\">\n          ${answers[i] || \"\"}\n        </div>`;\n      container.appendChild(block);\n    });\n    const opt = {\n      margin: 10,\n      filename: `Diario_${selectedDate}.pdf`,\n      image: {\n        type: \"jpeg\",\n        quality: 0.98\n      },\n      html2canvas: {\n        scale: 2\n      },\n      jsPDF: {\n        unit: \"mm\",\n        format: \"a4\",\n        orientation: \"portrait\"\n      }\n    };\n    html2pdf().from(container).set(opt).save();\n  };\n\n  /* ===== Wrapper layout caldo/centrato ===== */\n  const Wrapper = ({\n    children\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-yellow-50 to-yellow-100 flex flex-col items-center px-4 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n\n  /* ========== STEP: Data ========== */\n  if (step === \"date\") {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800 mb-2\",\n          children: \"Diario della Gratitudine \\uD83C\\uDF1E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-base\",\n          children: \"Imposta la data e inizia. Una domanda alla volta, con riepilogo finale.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-sm bg-white rounded-2xl shadow-md p-6 flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-700 mb-3 text-center\",\n            children: \"Seleziona la data del tuo diario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: selectedDate,\n              onChange: e => setSelectedDate(e.target.value),\n              className: \"w-full max-w-xs text-center border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setQIndex(0);\n              setStep(\"questions\");\n            },\n            className: \"mt-4 w-full bg-orange-500 hover:bg-orange-600 text-white text-lg font-semibold py-2 rounded-lg transition\",\n            children: \"Inizia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), diary[selectedDate] && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-3 text-center\",\n            children: [\"Hai gi\\xE0 risposte salvate per \", formatIT(selectedDate), \". Puoi aggiornarle.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* ========== STEP: Domande (una alla volta) ========== */\n  if (step === \"questions\") {\n    const q = questions[qIndex];\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 italic\",\n          children: \"Scorri a sinistra o premi \\u201CAvanti\\u201D per passare alla domanda successiva\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: formatIT(selectedDate)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-md p-5\",\n        onTouchStart: onTouchStart,\n        onTouchEnd: onTouchEnd,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center text-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl mb-2\",\n            children: q.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-gray-800 text-base font-semibold leading-snug max-w-sm\",\n            children: q.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          /* remount quando cambi domanda */\n          ref: textRef,\n          defaultValue: answers[qIndex] /* non controllata durante la scrittura */,\n          onChange: e => {\n            // aggiorno il buffer locale senza re-render\n            answers[qIndex] = e.target.value;\n          },\n          onBlur: e => {\n            // salvo nello stato SOLO quando esci dal campo → niente chiusura tastiera\n            const a = [...answers];\n            a[qIndex] = e.target.value;\n            setAnswers(a);\n          },\n          onFocus: () => {\n            // mantiene visibile il campo con tastiera aperta\n            setTimeout(() => {\n              var _textRef$current;\n              (_textRef$current = textRef.current) === null || _textRef$current === void 0 ? void 0 : _textRef$current.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\"\n              });\n            }, 150);\n          },\n          placeholder: q.placeholder,\n          className: \"w-full h-32 p-3 border border-gray-300 rounded-xl text-gray-700 text-base resize-none shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n        }, qIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between gap-3 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: goPrev,\n            className: \"w-1/2 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\",\n            children: \"Indietro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: goNext,\n            disabled: !canNext,\n            className: \"w-1/2 py-2 rounded-lg transition \" + (canNext ? \"bg-yellow-500 text-white hover:bg-yellow-600\" : \"bg-yellow-200 text-white cursor-not-allowed\"),\n            children: qIndex < questions.length - 1 ? \"Avanti\" : \"Riepilogo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-xs text-gray-400 mt-3\",\n          children: [\"Domanda \", qIndex + 1, \" di \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* ========== STEP: Riepilogo (modificabile) ========== */\n  if (step === \"review\") {\n    const allFilled = answers.every(a => a.trim().length > 0);\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: [\"Riepilogo \\u2013 \", formatIT(selectedDate)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Modifica liberamente prima di registrare.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4\",\n        children: questions.map((q, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-sm p-4 border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"italic text-gray-700 mb-2\",\n            children: q.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            defaultValue: answers[i],\n            onBlur: e => {\n              const a = [...answers];\n              a[i] = e.target.value;\n              setAnswers(a);\n            },\n            className: \"w-full h-24 p-3 border border-gray-300 rounded-xl text-gray-800 text-base resize-none focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, q.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row gap-3 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(\"questions\"),\n          className: \"w-full sm:w-1/3 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\",\n          children: \"Torna alle domande\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: registerToday,\n          disabled: !allFilled,\n          className: \"w-full sm:w-2/3 py-2 rounded-lg transition \" + (allFilled ? \"bg-yellow-500 text-white hover:bg-yellow-600\" : \"bg-yellow-200 text-white cursor-not-allowed\"),\n          children: \"Registra risposte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), savedToday && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 bg-white rounded-2xl shadow-sm p-4 border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 font-medium mb-3\",\n          children: [\"\\u2705 Risposte registrate per \", formatIT(selectedDate), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep(\"history\"),\n            className: \"w-full sm:w-1/2 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition\",\n            children: \"Il mio diario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportPDF,\n            className: \"w-full sm:w-1/2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition\",\n            children: \"Esporta in PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this);\n  }\n\n  /* ========== STEP: Storico ========== */\n  if (step === \"history\") {\n    const dates = Object.keys(diary).sort((a, b) => a < b ? 1 : -1);\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"Il mio diario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), dates.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-500\",\n        children: \"Non hai ancora registrato nulla.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4\",\n        children: dates.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-2xl shadow-sm p-4 border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-900 mb-2\",\n            children: formatIT(d)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 17\n          }, this), diary[d].answers.map((ans, i) => {\n            var _questions$i;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"italic text-gray-700 text-sm\",\n                children: (_questions$i = questions[i]) === null || _questions$i === void 0 ? void 0 : _questions$i.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-800 whitespace-pre-wrap\",\n                children: ans\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 19\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedDate(d);\n                setAnswers(diary[d].answers);\n                setSavedToday(true);\n                setStep(\"review\");\n              },\n              className: \"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg transition\",\n              children: \"Apri e modifica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedDate(d);\n                setAnswers(diary[d].answers);\n                exportPDF();\n              },\n              className: \"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition\",\n              children: \"PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 17\n          }, this)]\n        }, d, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(\"date\"),\n        className: \"w-full mt-6 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\",\n        children: \"Torna alla data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n_s(App, \"5bqleQWME0cyMAWXEgIjQTnRVX0=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","html2pdf","jsxDEV","_jsxDEV","todayISO","d","Date","off","getTimezoneOffset","d2","getTime","toISOString","slice","formatIT","iso","y","m","split","date","Number","toLocaleDateString","day","month","year","STORAGE_KEY","App","_s","_answers$qIndex","step","setStep","selectedDate","setSelectedDate","questions","id","icon","text","placeholder","answers","setAnswers","Array","fill","qIndex","setQIndex","savedToday","setSavedToday","diary","setDiary","raw","localStorage","getItem","JSON","parse","setItem","stringify","_diary$selectedDate$a","_diary$selectedDate","existing","Boolean","canNext","trim","length","goNext","i","goPrev","touchStartX","onTouchStart","e","current","touches","clientX","onTouchEnd","dx","changedTouches","textRef","registerToday","clean","map","a","any","some","prev","savedAt","now","exportPDF","container","document","createElement","style","padding","fontFamily","color","lineHeight","title","innerHTML","appendChild","forEach","q","block","opt","margin","filename","image","type","quality","html2canvas","scale","jsPDF","unit","format","orientation","from","set","save","Wrapper","children","className","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","onClick","ref","defaultValue","onBlur","onFocus","setTimeout","_textRef$current","scrollIntoView","behavior","disabled","allFilled","every","dates","Object","keys","sort","b","ans","_questions$i","_c","$RefreshReg$"],"sources":["/Users/leo/Desktop/gratitude-diary/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport html2pdf from \"html2pdf.js\";\n\n/* ===== Utilità data ===== */\nfunction todayISO() {\n  const d = new Date();\n  const off = d.getTimezoneOffset();\n  const d2 = new Date(d.getTime() - off * 60 * 1000);\n  return d2.toISOString().slice(0, 10); // YYYY-MM-DD\n}\nfunction formatIT(iso) {\n  const [y, m, d] = iso.split(\"-\");\n  const date = new Date(Number(y), Number(m) - 1, Number(d));\n  return date.toLocaleDateString(\"it-IT\", {\n    day: \"2-digit\",\n    month: \"short\",\n    year: \"numeric\",\n  });\n}\n\nconst STORAGE_KEY = \"gratitudeDiaryV1\";\n\nexport default function App() {\n  /* ===== Stato principale ===== */\n  const [step, setStep] = useState(\"date\"); // 'date' | 'questions' | 'review' | 'history'\n  const [selectedDate, setSelectedDate] = useState(todayISO());\n  const questions = useMemo(\n    () => [\n      {\n        id: 1,\n        icon: \"❤️\",\n        text:\n          \"Ripensando alla giornata di oggi, elenca le cose per cui essere grato.\",\n        placeholder: \"Scrivi qui le cose di cui sei grato...\",\n      },\n      {\n        id: 2,\n        icon: \"💡\",\n        text:\n          \"Che cosa hai imparato oggi? Piccole o grandi lezioni vanno benissimo.\",\n        placeholder: \"Scrivi qui quello che hai imparato...\",\n      },\n      {\n        id: 3,\n        icon: \"⭐\",\n        text:\n          \"Fai un elenco delle qualità o azioni di cui vai fiero di te stesso.\",\n        placeholder: \"Scrivi qui le tue qualità o azioni positive...\",\n      },\n      {\n        id: 4,\n        icon: \"🏅\",\n        text: \"Quali sono le cose di cui sei orgoglioso oggi?\",\n        placeholder: \"Scrivi qui i tuoi successi o traguardi...\",\n      },\n    ],\n    []\n  );\n  const [answers, setAnswers] = useState(Array(4).fill(\"\"));\n  const [qIndex, setQIndex] = useState(0);\n  const [savedToday, setSavedToday] = useState(false);\n\n  // storico: { [dateISO]: { answers: string[], savedAt:number } }\n  const [diary, setDiary] = useState({});\n\n  /* ===== Carica/salva archivio ===== */\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_KEY);\n      if (raw) setDiary(JSON.parse(raw));\n    } catch {}\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(diary));\n  }, [diary]);\n\n  // quando cambio data carico eventuali risposte salvate\n  useEffect(() => {\n    const existing = diary[selectedDate]?.answers ?? Array(4).fill(\"\");\n    setAnswers(existing);\n    setSavedToday(Boolean(diary[selectedDate]));\n  }, [selectedDate]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  /* ===== Navigazione domande ===== */\n  const canNext = (answers[qIndex] ?? \"\").trim().length > 0;\n\n  const goNext = () => {\n    if (!canNext) return;\n    if (qIndex < questions.length - 1) setQIndex((i) => i + 1);\n    else setStep(\"review\");\n  };\n  const goPrev = () => {\n    if (qIndex > 0) setQIndex((i) => i - 1);\n    else setStep(\"date\");\n  };\n\n  // Swipe mobile: sinistra = avanti (se compilato), destra = indietro\n  const touchStartX = useRef(null);\n  const onTouchStart = (e) => (touchStartX.current = e.touches[0].clientX);\n  const onTouchEnd = (e) => {\n    if (touchStartX.current == null) return;\n    const dx = e.changedTouches[0].clientX - touchStartX.current;\n    if (dx < -50 && canNext) goNext();\n    if (dx > 50) goPrev();\n    touchStartX.current = null;\n  };\n\n  /* ===== FIX tastiera mobile =====\n     ref dichiarato QUI (fuori da qualsiasi if) per rispettare le regole degli hook */\n  const textRef = useRef(null);\n\n  /* ===== Salvataggio del giorno ===== */\n  const registerToday = () => {\n    const clean = answers.map((a) => a.trim());\n    const any = clean.some((a) => a.length > 0);\n    if (!any) return;\n    setDiary((prev) => ({\n      ...prev,\n      [selectedDate]: { answers: clean, savedAt: Date.now() },\n    }));\n    setSavedToday(true);\n  };\n\n  /* ===== PDF (data grassetto, domande corsivo, risposte normali) ===== */\n  const exportPDF = () => {\n    const container = document.createElement(\"div\");\n    container.style.padding = \"18px\";\n    container.style.fontFamily = \"Inter, system-ui, -apple-system, sans-serif\";\n    container.style.color = \"#111827\";\n    container.style.lineHeight = \"1.5\";\n\n    const title = document.createElement(\"div\");\n    title.innerHTML = `<div style=\"font-weight:700;font-size:18px;margin-bottom:10px;\">\n      Diario – <span>${formatIT(selectedDate)}</span>\n    </div>`;\n    container.appendChild(title);\n\n    questions.forEach((q, i) => {\n      const block = document.createElement(\"div\");\n      block.innerHTML = `\n        <div style=\"font-style:italic;margin:8px 0 2px 0;\">\n          ${q.text}\n        </div>\n        <div style=\"white-space:pre-wrap;margin:0 0 8px 0;\">\n          ${answers[i] || \"\"}\n        </div>`;\n      container.appendChild(block);\n    });\n\n    const opt = {\n      margin: 10,\n      filename: `Diario_${selectedDate}.pdf`,\n      image: { type: \"jpeg\", quality: 0.98 },\n      html2canvas: { scale: 2 },\n      jsPDF: { unit: \"mm\", format: \"a4\", orientation: \"portrait\" },\n    };\n    html2pdf().from(container).set(opt).save();\n  };\n\n  /* ===== Wrapper layout caldo/centrato ===== */\n  const Wrapper = ({ children }) => (\n    <div className=\"min-h-screen bg-gradient-to-b from-yellow-50 to-yellow-100 flex flex-col items-center px-4 py-8\">\n      <div className=\"w-full max-w-md\">{children}</div>\n    </div>\n  );\n\n  /* ========== STEP: Data ========== */\n  if (step === \"date\") {\n    return (\n      <Wrapper>\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n            Diario della Gratitudine 🌞\n          </h1>\n          <p className=\"text-gray-600 text-base\">\n            Imposta la data e inizia. Una domanda alla volta, con riepilogo finale.\n          </p>\n        </div>\n\n        {/* card bianca + input data grigio PERFETTAMENTE centrato */}\n        <div className=\"w-full flex justify-center\">\n          <div className=\"w-full max-w-sm bg-white rounded-2xl shadow-md p-6 flex flex-col items-center\">\n            <h2 className=\"text-lg font-semibold text-gray-700 mb-3 text-center\">\n              Seleziona la data del tuo diario\n            </h2>\n            <div className=\"w-full flex justify-center\">\n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"w-full max-w-xs text-center border border-gray-300 rounded-lg py-2 px-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-400\"\n              />\n            </div>\n\n            <button\n              onClick={() => {\n                setQIndex(0);\n                setStep(\"questions\");\n              }}\n              className=\"mt-4 w-full bg-orange-500 hover:bg-orange-600 text-white text-lg font-semibold py-2 rounded-lg transition\"\n            >\n              Inizia\n            </button>\n\n            {diary[selectedDate] && (\n              <p className=\"text-xs text-gray-500 mt-3 text-center\">\n                Hai già risposte salvate per {formatIT(selectedDate)}. Puoi aggiornarle.\n              </p>\n            )}\n          </div>\n        </div>\n      </Wrapper>\n    );\n  }\n\n  /* ========== STEP: Domande (una alla volta) ========== */\n  if (step === \"questions\") {\n    const q = questions[qIndex];\n\n    return (\n      <Wrapper>\n        <div className=\"text-center mb-3\">\n          <p className=\"text-sm text-gray-500 italic\">\n            Scorri a sinistra o premi “Avanti” per passare alla domanda successiva\n          </p>\n          <p className=\"text-xs text-gray-500\">{formatIT(selectedDate)}</p>\n        </div>\n\n        <div\n          className=\"bg-white rounded-2xl shadow-md p-5\"\n          onTouchStart={onTouchStart}\n          onTouchEnd={onTouchEnd}\n        >\n          <div className=\"flex flex-col items-center text-center mb-4\">\n            <div className=\"text-3xl mb-2\">{q.icon}</div>\n            <h2 className=\"text-gray-800 text-base font-semibold leading-snug max-w-sm\">\n              {q.text}\n            </h2>\n          </div>\n\n          <textarea\n            key={qIndex}                 /* remount quando cambi domanda */\n            ref={textRef}\n            defaultValue={answers[qIndex]} /* non controllata durante la scrittura */\n            onChange={(e) => {\n              // aggiorno il buffer locale senza re-render\n              answers[qIndex] = e.target.value;\n            }}\n            onBlur={(e) => {\n              // salvo nello stato SOLO quando esci dal campo → niente chiusura tastiera\n              const a = [...answers];\n              a[qIndex] = e.target.value;\n              setAnswers(a);\n            }}\n            onFocus={() => {\n              // mantiene visibile il campo con tastiera aperta\n              setTimeout(() => {\n                textRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n              }, 150);\n            }}\n            placeholder={q.placeholder}\n            className=\"w-full h-32 p-3 border border-gray-300 rounded-xl text-gray-700 text-base resize-none shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n          />\n\n          <div className=\"flex items-center justify-between gap-3 mt-4\">\n            <button\n              onClick={goPrev}\n              className=\"w-1/2 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\"\n            >\n              Indietro\n            </button>\n            <button\n              onClick={goNext}\n              disabled={!canNext}\n              className={\n                \"w-1/2 py-2 rounded-lg transition \" +\n                (canNext\n                  ? \"bg-yellow-500 text-white hover:bg-yellow-600\"\n                  : \"bg-yellow-200 text-white cursor-not-allowed\")\n              }\n            >\n              {qIndex < questions.length - 1 ? \"Avanti\" : \"Riepilogo\"}\n            </button>\n          </div>\n\n          <p className=\"text-center text-xs text-gray-400 mt-3\">\n            Domanda {qIndex + 1} di {questions.length}\n          </p>\n        </div>\n      </Wrapper>\n    );\n  }\n\n  /* ========== STEP: Riepilogo (modificabile) ========== */\n  if (step === \"review\") {\n    const allFilled = answers.every((a) => a.trim().length > 0);\n\n    return (\n      <Wrapper>\n        <div className=\"text-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">\n            Riepilogo – {formatIT(selectedDate)}\n          </h2>\n          <p className=\"text-sm text-gray-500\">\n            Modifica liberamente prima di registrare.\n          </p>\n        </div>\n\n        <div className=\"flex flex-col gap-4\">\n          {questions.map((q, i) => (\n            <div key={q.id} className=\"bg-white rounded-2xl shadow-sm p-4 border border-gray-200\">\n              <p className=\"italic text-gray-700 mb-2\">{q.text}</p>\n              <textarea\n                defaultValue={answers[i]}\n                onBlur={(e) => {\n                  const a = [...answers];\n                  a[i] = e.target.value;\n                  setAnswers(a);\n                }}\n                className=\"w-full h-24 p-3 border border-gray-300 rounded-xl text-gray-800 text-base resize-none focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n              />\n            </div>\n          ))}\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row gap-3 mt-6\">\n          <button\n            onClick={() => setStep(\"questions\")}\n            className=\"w-full sm:w-1/3 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\"\n          >\n            Torna alle domande\n          </button>\n          <button\n            onClick={registerToday}\n            disabled={!allFilled}\n            className={\n              \"w-full sm:w-2/3 py-2 rounded-lg transition \" +\n              (allFilled\n                ? \"bg-yellow-500 text-white hover:bg-yellow-600\"\n                : \"bg-yellow-200 text-white cursor-not-allowed\")\n            }\n          >\n            Registra risposte\n          </button>\n        </div>\n\n        {savedToday && (\n          <div className=\"mt-6 bg-white rounded-2xl shadow-sm p-4 border border-gray-200\">\n            <p className=\"text-green-700 font-medium mb-3\">\n              ✅ Risposte registrate per {formatIT(selectedDate)}.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-3\">\n              <button\n                onClick={() => setStep(\"history\")}\n                className=\"w-full sm:w-1/2 bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition\"\n              >\n                Il mio diario\n              </button>\n              <button\n                onClick={exportPDF}\n                className=\"w-full sm:w-1/2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition\"\n              >\n                Esporta in PDF\n              </button>\n            </div>\n          </div>\n        )}\n      </Wrapper>\n    );\n  }\n\n  /* ========== STEP: Storico ========== */\n  if (step === \"history\") {\n    const dates = Object.keys(diary).sort((a, b) => (a < b ? 1 : -1));\n    return (\n      <Wrapper>\n        <div className=\"text-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">Il mio diario</h2>\n        </div>\n\n        {dates.length === 0 ? (\n          <p className=\"text-center text-gray-500\">Non hai ancora registrato nulla.</p>\n        ) : (\n          <div className=\"flex flex-col gap-4\">\n            {dates.map((d) => (\n              <div key={d} className=\"bg-white rounded-2xl shadow-sm p-4 border border-gray-200\">\n                <p className=\"font-semibold text-gray-900 mb-2\">{formatIT(d)}</p>\n                {diary[d].answers.map((ans, i) => (\n                  <div key={i} className=\"mb-2\">\n                    <p className=\"italic text-gray-700 text-sm\">{questions[i]?.text}</p>\n                    <p className=\"text-gray-800 whitespace-pre-wrap\">{ans}</p>\n                  </div>\n                ))}\n                <div className=\"flex gap-3 mt-2\">\n                  <button\n                    onClick={() => {\n                      setSelectedDate(d);\n                      setAnswers(diary[d].answers);\n                      setSavedToday(true);\n                      setStep(\"review\");\n                    }}\n                    className=\"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg transition\"\n                  >\n                    Apri e modifica\n                  </button>\n                  <button\n                    onClick={() => {\n                      setSelectedDate(d);\n                      setAnswers(diary[d].answers);\n                      exportPDF();\n                    }}\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition\"\n                  >\n                    PDF\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        <button\n          onClick={() => setStep(\"date\")}\n          className=\"w-full mt-6 bg-gray-100 text-gray-800 py-2 rounded-lg border border-gray-300 hover:bg-gray-200 transition\"\n        >\n          Torna alla data\n        </button>\n      </Wrapper>\n    );\n  }\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}